<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>scran: scran::SuggestCrisprQcFilters::Thresholds Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">scran
   </div>
   <div id="projectbrief">C++ library for basic single-cell RNA-seq analyses</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacescran.html">scran</a></li><li class="navelem"><a class="el" href="classscran_1_1SuggestCrisprQcFilters.html">SuggestCrisprQcFilters</a></li><li class="navelem"><a class="el" href="structscran_1_1SuggestCrisprQcFilters_1_1Thresholds.html">Thresholds</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="structscran_1_1SuggestCrisprQcFilters_1_1Thresholds-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">scran::SuggestCrisprQcFilters::Thresholds Struct Reference</div></div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="structscran_1_1SuggestCrisprQcFilters_1_1Thresholds.html" title="Thresholds to define outliers on each metric.">Thresholds</a> to define outliers on each metric.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="SuggestCrisprQcFilters_8hpp_source.html">SuggestCrisprQcFilters.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a1b3130805f8f3c6675fd0392f081bdf5" id="r_a1b3130805f8f3c6675fd0392f081bdf5"><td class="memTemplParams" colspan="2">template&lt;bool overwrite = true, typename Float , typename Integer , typename Output &gt; </td></tr>
<tr class="memitem:a1b3130805f8f3c6675fd0392f081bdf5"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#a1b3130805f8f3c6675fd0392f081bdf5">filter</a> (size_t n, const <a class="el" href="structscran_1_1PerCellCrisprQcMetrics_1_1Buffers.html">PerCellCrisprQcMetrics::Buffers</a>&lt; Float, Integer &gt; &amp;buffers, Output *output) const</td></tr>
<tr class="separator:a1b3130805f8f3c6675fd0392f081bdf5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6bb0ca311ff4599f1a85b1f75e83b58" id="r_aa6bb0ca311ff4599f1a85b1f75e83b58"><td class="memTemplParams" colspan="2">template&lt;typename Output  = uint8_t&gt; </td></tr>
<tr class="memitem:aa6bb0ca311ff4599f1a85b1f75e83b58"><td class="memTemplItemLeft" align="right" valign="top">std::vector&lt; Output &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#aa6bb0ca311ff4599f1a85b1f75e83b58">filter</a> (const <a class="el" href="structscran_1_1PerCellCrisprQcMetrics_1_1Results.html">PerCellCrisprQcMetrics::Results</a> &amp;metrics) const</td></tr>
<tr class="separator:aa6bb0ca311ff4599f1a85b1f75e83b58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6088bffa4ff60ca5d55e3adf2702b0d6" id="r_a6088bffa4ff60ca5d55e3adf2702b0d6"><td class="memTemplParams" colspan="2">template&lt;bool overwrite = true, typename Block , typename Float , typename Integer , typename Output &gt; </td></tr>
<tr class="memitem:a6088bffa4ff60ca5d55e3adf2702b0d6"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#a6088bffa4ff60ca5d55e3adf2702b0d6">filter_blocked</a> (size_t n, const Block *block, const <a class="el" href="structscran_1_1PerCellCrisprQcMetrics_1_1Buffers.html">PerCellCrisprQcMetrics::Buffers</a>&lt; Float, Integer &gt; &amp;buffers, Output *output) const</td></tr>
<tr class="separator:a6088bffa4ff60ca5d55e3adf2702b0d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43cf141ddbbafc9c4cf312dedae7e621" id="r_a43cf141ddbbafc9c4cf312dedae7e621"><td class="memTemplParams" colspan="2">template&lt;typename Output  = uint8_t, typename Block &gt; </td></tr>
<tr class="memitem:a43cf141ddbbafc9c4cf312dedae7e621"><td class="memTemplItemLeft" align="right" valign="top">std::vector&lt; Output &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#a43cf141ddbbafc9c4cf312dedae7e621">filter_blocked</a> (const <a class="el" href="structscran_1_1PerCellCrisprQcMetrics_1_1Results.html">PerCellCrisprQcMetrics::Results</a> &amp;metrics, const Block *block) const</td></tr>
<tr class="separator:a43cf141ddbbafc9c4cf312dedae7e621"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a73232cb4c2d9370dfe8777dd686be809" id="r_a73232cb4c2d9370dfe8777dd686be809"><td class="memItemLeft" align="right" valign="top">std::vector&lt; double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a73232cb4c2d9370dfe8777dd686be809">max_count</a></td></tr>
<tr class="separator:a73232cb4c2d9370dfe8777dd686be809"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="structscran_1_1SuggestCrisprQcFilters_1_1Thresholds.html" title="Thresholds to define outliers on each metric.">Thresholds</a> to define outliers on each metric. </p>
<p><code><a class="el" href="classscran_1_1SuggestCrisprQcFilters.html#a065021a998e26e58e9cd26a2186921da">SuggestCrisprQcFilters::run()</a></code> and related methods will suggest some (hopefully) sensible thresholds based on outlier calls. Users can directly modify the thresholds in instances of this class if the default suggestions are not suitable. These thresholds can then be used to generate calls for low-quality cells via the <code><a class="el" href="#a1b3130805f8f3c6675fd0392f081bdf5">filter()</a></code> methods. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a1b3130805f8f3c6675fd0392f081bdf5" name="a1b3130805f8f3c6675fd0392f081bdf5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b3130805f8f3c6675fd0392f081bdf5">&#9670;&#160;</a></span>filter() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;bool overwrite = true, typename Float , typename Integer , typename Output &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void scran::SuggestCrisprQcFilters::Thresholds::filter </td>
          <td>(</td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>n</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structscran_1_1PerCellCrisprQcMetrics_1_1Buffers.html">PerCellCrisprQcMetrics::Buffers</a>&lt; Float, Integer &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>buffers</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Output *</td>          <td class="paramname"><span class="paramname"><em>output</em></span>&#160;) const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">overwrite</td><td>Whether to overwrite existing truthy entries in <code>output</code>. </td></tr>
    <tr><td class="paramname">Float</td><td>Floating point type for the metrics. </td></tr>
    <tr><td class="paramname">Integer</td><td>Integer for the metrics. </td></tr>
    <tr><td class="paramname">Output</td><td>Boolean type for the low-quality calls.</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">n</td><td>Number of cells. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buffers</td><td>Pointers to arrays of length <code>n</code>, containing the per-cell CRISPR-derived metrics. These should be comparable to the values used to create this <code><a class="el" href="structscran_1_1SuggestCrisprQcFilters_1_1Thresholds.html" title="Thresholds to define outliers on each metric.">Thresholds</a></code> object. Only <code>max_proportion</code> and <code>sums</code> are used; <code>detected</code> is ignored and does not need to be set. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">output</td><td>Pointer to an array of length <code>n</code>, to store the low-quality calls. Values are set to <code>true</code> for low-quality cells. If <code>overwrite = true</code>, values are set to <code>false</code> for high-quality cells, otherwise the existing entry is preserved.</td></tr>
  </table>
  </dd>
</dl>
<p>Use <code><a class="el" href="#a6088bffa4ff60ca5d55e3adf2702b0d6">filter_blocked()</a></code> instead for multi-block datasets. </p>

</div>
</div>
<a id="aa6bb0ca311ff4599f1a85b1f75e83b58" name="aa6bb0ca311ff4599f1a85b1f75e83b58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6bb0ca311ff4599f1a85b1f75e83b58">&#9670;&#160;</a></span>filter() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Output  = uint8_t&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; Output &gt; scran::SuggestCrisprQcFilters::Thresholds::filter </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structscran_1_1PerCellCrisprQcMetrics_1_1Results.html">PerCellCrisprQcMetrics::Results</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>metrics</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This is an overloaded member function, provided for convenience. It differs from the above function only in what argument(s) it accepts.</p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">Output</td><td>Boolean type for the low-quality calls.</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">metrics</td><td>Collection of arrays of per-cell CRISPR metrics. These should be comparable to the values used to create this <code><a class="el" href="structscran_1_1SuggestCrisprQcFilters_1_1Thresholds.html" title="Thresholds to define outliers on each metric.">Thresholds</a></code> object. Only <code>max_proportion</code> and <code>sums</code> are used; <code>detected</code> is ignored and does not need to be set.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Vector of low-quality calls, of length equal to the number of cells in <code>metrics</code>. </dd></dl>

</div>
</div>
<a id="a6088bffa4ff60ca5d55e3adf2702b0d6" name="a6088bffa4ff60ca5d55e3adf2702b0d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6088bffa4ff60ca5d55e3adf2702b0d6">&#9670;&#160;</a></span>filter_blocked() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;bool overwrite = true, typename Block , typename Float , typename Integer , typename Output &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void scran::SuggestCrisprQcFilters::Thresholds::filter_blocked </td>
          <td>(</td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>n</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Block *</td>          <td class="paramname"><span class="paramname"><em>block</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structscran_1_1PerCellCrisprQcMetrics_1_1Buffers.html">PerCellCrisprQcMetrics::Buffers</a>&lt; Float, Integer &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>buffers</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Output *</td>          <td class="paramname"><span class="paramname"><em>output</em></span>&#160;) const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">Block</td><td>Integer type for the block assignments. </td></tr>
    <tr><td class="paramname">Float</td><td>Floating point type for the metrics. </td></tr>
    <tr><td class="paramname">Integer</td><td>Integer for the metrics. </td></tr>
    <tr><td class="paramname">Output</td><td>Boolean type for the low-quality calls.</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">n</td><td>Number of cells. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">block</td><td>Pointer to an array of length <code>n</code>, containing the block assignment for each cell. This may be <code>NULL</code>, in which case all cells are assumed to belong to the same block. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buffers</td><td>Pointers to arrays of length <code>n</code>, containing the per-cell CRISPR-derived metrics. These should be comparable to the values used to create this <code><a class="el" href="structscran_1_1SuggestCrisprQcFilters_1_1Thresholds.html" title="Thresholds to define outliers on each metric.">Thresholds</a></code> object. Only <code>max_proportion</code> and <code>sums</code> are used; <code>detected</code> is ignored and does not need to be set. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">output</td><td>Pointer to an array of length <code>n</code>, to store the low-quality calls. Values are set to <code>true</code> for low-quality cells. If <code>overwrite = true</code>, values are set to <code>false</code> for high-quality cells, otherwise the existing entry is preserved. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a43cf141ddbbafc9c4cf312dedae7e621" name="a43cf141ddbbafc9c4cf312dedae7e621"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43cf141ddbbafc9c4cf312dedae7e621">&#9670;&#160;</a></span>filter_blocked() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Output  = uint8_t, typename Block &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; Output &gt; scran::SuggestCrisprQcFilters::Thresholds::filter_blocked </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structscran_1_1PerCellCrisprQcMetrics_1_1Results.html">PerCellCrisprQcMetrics::Results</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>metrics</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Block *</td>          <td class="paramname"><span class="paramname"><em>block</em></span>&#160;) const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This is an overloaded member function, provided for convenience. It differs from the above function only in what argument(s) it accepts.</p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">Block</td><td>Integer type for the block assignments. </td></tr>
    <tr><td class="paramname">Output</td><td>Boolean type for the low-quality calls.</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">metrics</td><td>Collection of arrays of per-cell CRISPR metrics. These should be comparable to the values used to create this <code><a class="el" href="structscran_1_1SuggestCrisprQcFilters_1_1Thresholds.html" title="Thresholds to define outliers on each metric.">Thresholds</a></code> object. Only <code>max_proportion</code> and <code>sums</code> are used; <code>detected</code> is ignored and does not need to be set. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">block</td><td>Pointer to an array of length <code>n</code>, containing the block assignment for each cell. This may be <code>NULL</code>, in which case all cells are assumed to belong to the same block.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Vector of low-quality calls, of length equal to the number of cells in <code>metrics</code>. </dd></dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a73232cb4c2d9370dfe8777dd686be809" name="a73232cb4c2d9370dfe8777dd686be809"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a73232cb4c2d9370dfe8777dd686be809">&#9670;&#160;</a></span>max_count</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;double&gt; scran::SuggestCrisprQcFilters::Thresholds::max_count</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Lower thresholds to define small outliers on the maximum count. Each entry contains the threshold used for the corresponding block. For unblocked analyses, this will be of length 1 as all cells are assumed to belong to the same block. </p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>scran/quality_control/<a class="el" href="SuggestCrisprQcFilters_8hpp_source.html">SuggestCrisprQcFilters.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
