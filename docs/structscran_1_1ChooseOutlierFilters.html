<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>scran: scran::ChooseOutlierFilters Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">scran
   </div>
   <div id="projectbrief">C++ library for basic single-cell RNA-seq analyses</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacescran.html">scran</a></li><li class="navelem"><a class="el" href="structscran_1_1ChooseOutlierFilters.html">ChooseOutlierFilters</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="structscran_1_1ChooseOutlierFilters-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">scran::ChooseOutlierFilters Struct Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Define outlier filters from the median and MAD.  
 <a href="structscran_1_1ChooseOutlierFilters.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="ChooseOutlierFilters_8hpp_source.html">ChooseOutlierFilters.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structscran_1_1ChooseOutlierFilters_1_1Defaults.html">Defaults</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default parameters.  <a href="structscran_1_1ChooseOutlierFilters_1_1Defaults.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structscran_1_1ChooseOutlierFilters_1_1Thresholds.html">Thresholds</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Outlier thresholds for QC filtering.  <a href="structscran_1_1ChooseOutlierFilters_1_1Thresholds.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a71a59e97aa8947f89b64443891e7a60b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structscran_1_1ChooseOutlierFilters.html">ChooseOutlierFilters</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structscran_1_1ChooseOutlierFilters.html#a71a59e97aa8947f89b64443891e7a60b">set_lower</a> (bool l=<a class="el" href="structscran_1_1ChooseOutlierFilters_1_1Defaults.html#a44847673cd7e1318639ba13b236cf42e">Defaults::lower</a>)</td></tr>
<tr class="separator:a71a59e97aa8947f89b64443891e7a60b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf63bbc135b1b678086367860987eb3c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structscran_1_1ChooseOutlierFilters.html">ChooseOutlierFilters</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structscran_1_1ChooseOutlierFilters.html#abf63bbc135b1b678086367860987eb3c">set_upper</a> (bool u=<a class="el" href="structscran_1_1ChooseOutlierFilters_1_1Defaults.html#a4c2618e86b59817e2a4a84c630277b88">Defaults::upper</a>)</td></tr>
<tr class="separator:abf63bbc135b1b678086367860987eb3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6521a5a2c880eed6ed45b85152f3db24"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structscran_1_1ChooseOutlierFilters.html">ChooseOutlierFilters</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structscran_1_1ChooseOutlierFilters.html#a6521a5a2c880eed6ed45b85152f3db24">set_num_mads</a> (double n=<a class="el" href="structscran_1_1ChooseOutlierFilters_1_1Defaults.html#a27300eda383c366268d6e47e032d653d">Defaults::num_mads</a>)</td></tr>
<tr class="separator:a6521a5a2c880eed6ed45b85152f3db24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2986221704675224680bc55dcb413c2a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structscran_1_1ChooseOutlierFilters.html">ChooseOutlierFilters</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structscran_1_1ChooseOutlierFilters.html#a2986221704675224680bc55dcb413c2a">set_min_diff</a> (double m=<a class="el" href="structscran_1_1ChooseOutlierFilters_1_1Defaults.html#ad4d2c7e8721165f20da60c34c95becc5">Defaults::min_diff</a>)</td></tr>
<tr class="separator:a2986221704675224680bc55dcb413c2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a761f715f73ec45e29c259444154d51e3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structscran_1_1ChooseOutlierFilters_1_1Thresholds.html">Thresholds</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structscran_1_1ChooseOutlierFilters.html#a761f715f73ec45e29c259444154d51e3">run</a> (<a class="el" href="structscran_1_1ComputeMedianMad_1_1Results.html">ComputeMedianMad::Results</a> x) const</td></tr>
<tr class="separator:a761f715f73ec45e29c259444154d51e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Define outlier filters from the median and MAD. </p>
<p >This class uses the output from <code><a class="el" href="classscran_1_1ComputeMedianMad.html" title="Compute the median and MAD from an array of values.">ComputeMedianMad</a></code> to define filter thresholds for outliers on the QC metrics. Given an array of values, outliers are defined as those that are more than some number of median absolute deviations (MADs) from the median value. By default, we require 3 MADs, which is motivated by the low probability (less than 1%) of obtaining such a value under the normal distribution. Outliers can be defined in both directions, or just a single direction, depending on the interpretation of the QC metric. Any log-transformation used to compute the MAD (see <code><a class="el" href="classscran_1_1ComputeMedianMad.html#acd4ae0ce9a788e39d43b8f6bd4deacf5">ComputeMedianMad::set_log()</a></code>) is automatically reversed in the reported thresholds. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a71a59e97aa8947f89b64443891e7a60b" name="a71a59e97aa8947f89b64443891e7a60b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71a59e97aa8947f89b64443891e7a60b">&#9670;&#160;</a></span>set_lower()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structscran_1_1ChooseOutlierFilters.html">ChooseOutlierFilters</a> &amp; scran::ChooseOutlierFilters::set_lower </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>l</em> = <code><a class="el" href="structscran_1_1ChooseOutlierFilters_1_1Defaults.html#a44847673cd7e1318639ba13b236cf42e">Defaults::lower</a></code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">l</td><td>Should low values be considered as potential outliers? If <code>false</code>, no lower threshold is applied when defining outliers.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A reference to this <code><a class="el" href="structscran_1_1ChooseOutlierFilters.html" title="Define outlier filters from the median and MAD.">ChooseOutlierFilters</a></code> object. </dd></dl>

</div>
</div>
<a id="abf63bbc135b1b678086367860987eb3c" name="abf63bbc135b1b678086367860987eb3c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf63bbc135b1b678086367860987eb3c">&#9670;&#160;</a></span>set_upper()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structscran_1_1ChooseOutlierFilters.html">ChooseOutlierFilters</a> &amp; scran::ChooseOutlierFilters::set_upper </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>u</em> = <code><a class="el" href="structscran_1_1ChooseOutlierFilters_1_1Defaults.html#a4c2618e86b59817e2a4a84c630277b88">Defaults::upper</a></code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">u</td><td>Should high values be considered as potential outliers? If <code>false</code>, no upper threshold is applied when defining outliers.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A reference to this <code><a class="el" href="structscran_1_1ChooseOutlierFilters.html" title="Define outlier filters from the median and MAD.">ChooseOutlierFilters</a></code> object. </dd></dl>

</div>
</div>
<a id="a6521a5a2c880eed6ed45b85152f3db24" name="a6521a5a2c880eed6ed45b85152f3db24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6521a5a2c880eed6ed45b85152f3db24">&#9670;&#160;</a></span>set_num_mads()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structscran_1_1ChooseOutlierFilters.html">ChooseOutlierFilters</a> &amp; scran::ChooseOutlierFilters::set_num_mads </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>n</em> = <code><a class="el" href="structscran_1_1ChooseOutlierFilters_1_1Defaults.html#a27300eda383c366268d6e47e032d653d">Defaults::num_mads</a></code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">n</td><td>Number of MADs to use to define outliers. Larger values result in more relaxed thresholds.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A reference to this <code><a class="el" href="structscran_1_1ChooseOutlierFilters.html" title="Define outlier filters from the median and MAD.">ChooseOutlierFilters</a></code> object. </dd></dl>

</div>
</div>
<a id="a2986221704675224680bc55dcb413c2a" name="a2986221704675224680bc55dcb413c2a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2986221704675224680bc55dcb413c2a">&#9670;&#160;</a></span>set_min_diff()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structscran_1_1ChooseOutlierFilters.html">ChooseOutlierFilters</a> &amp; scran::ChooseOutlierFilters::set_min_diff </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>m</em> = <code><a class="el" href="structscran_1_1ChooseOutlierFilters_1_1Defaults.html#ad4d2c7e8721165f20da60c34c95becc5">Defaults::min_diff</a></code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">m</td><td>Minimum difference from the median to define outliers. This enforces a more relaxed threshold in cases where the MAD may be too small. If the median and MADs are log-transformed, this difference is interpreted as a unit on the log-scale.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A reference to this <code><a class="el" href="structscran_1_1ChooseOutlierFilters.html" title="Define outlier filters from the median and MAD.">ChooseOutlierFilters</a></code> object. </dd></dl>

</div>
</div>
<a id="a761f715f73ec45e29c259444154d51e3" name="a761f715f73ec45e29c259444154d51e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a761f715f73ec45e29c259444154d51e3">&#9670;&#160;</a></span>run()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structscran_1_1ChooseOutlierFilters_1_1Thresholds.html">Thresholds</a> scran::ChooseOutlierFilters::run </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structscran_1_1ComputeMedianMad_1_1Results.html">ComputeMedianMad::Results</a>&#160;</td>
          <td class="paramname"><em>x</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">x</td><td>Median and MAD computed from <code><a class="el" href="classscran_1_1ComputeMedianMad.html#a04e0171f1c90ce6eaecf90edb07434d5">ComputeMedianMad::run()</a></code> or <code><a class="el" href="classscran_1_1ComputeMedianMad.html#a4d67389188de09d14a4c5cc45ab81aa8">ComputeMedianMad::run_blocked()</a></code>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Outlier filter thresholds defined in terms of MADs from the median.</dd></dl>
<p>If <code>x.log</code> is true, the returned thresholds are defined in the original space, i.e., not log-transformed. They can be directly used for comparison to the original metrics without further exponentiation.</p>
<p >If multiple blocks are present in <code>x</code>, one upper/lower threshold is computed for each block. </p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>scran/quality_control/<a class="el" href="ChooseOutlierFilters_8hpp_source.html">ChooseOutlierFilters.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5
</small></address>
</body>
</html>
